<div data-feature-index="<%= feature_index %>" style="background-color:<%= feature.color? ? feature.color : '' %>" class='feature-div'>
  <%= link_to 'edit', edit_feature_path(feature), class: 'edit-feature', remote: true %>
  <%= link_to feature_path(feature), method: :delete, data: {confirm: 'are you sure? This will destroy all related steps and statuses'}, class: 'destroy-feature has-text-danger' do %>
      <i class="destroy-feature-icon fa fa-trash"></i>
  <% end %>
  <div class="feature-description">
    <h2 style="text-decoration:<%= feature.done ? 'line-through' : '' %>" class="subtitle"><%= feature.title %></h2>
    <p style="text-decoration:<%= feature.done ? 'line-through' : '' %>"><%= feature.description %></p>
    <% if feature.done %>
        <h3 class="has-text-centered is-size-4">DONE</h3>
    <% end %>
  </div>
  <div class="project-step-border-wall"></div>
  <%= link_to 'Add step', new_step_path(feature_id: feature.id), class: 'new-step-link', remote: true %>
  <div class="step-list">
    <% feature.steps.sort_by{|step| step.created_at}.each_with_index do |step, index| %>
        <%= render 'steps/step', step: step, step_index: index %>
    <% end %>
  </div>
  <div class="step-status-border-wall"></div>
  <%= link_to 'New status', new_status_update_path(feature_id: feature.id), class: 'new-update-link', remote: true %>
  <div class="status-updates">
    <% feature.status_updates.order(created_at: :desc).each do |status_update| %>
        <div class="box status-update">
          <span class="status-time"><%= status_update.created_at.strftime("%B %e,%l:%M %p") %></span>
          <%= status_update.notes %>
          <%= link_to 'edit', edit_status_update_path(status_update), class: 'edit-status-update', remote: true %>
        </div>
    <% end %>
  </div>
</div>